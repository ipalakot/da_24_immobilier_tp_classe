{% extends 'base_user.html.twig' %}

{% block title %}Agence{% endblock %}



{% block navigation%}
<!-- Navigation-->
	{% include 'tools/navigation.html.twig'  %}
	<!-- Header-->
	{% include 'tools/header.html.twig'  %}

	<!-- Section-->
{% endblock %}


{% block body %}

<div class="container">
    <h5>Agence | {{ agence.id }} </h5>
    	<hr style="width:100%; height:5px; background-color:#1B4F72 ">


    <table class="table">
        <tbody>
            <tr>
                <th>Id</th>
                <td>{{ agence.id }}</td>
            </tr>
            <tr>
                <th>NumeroAgence</th>
                <td>{{ agence.numeroAgence }}</td>
            </tr>
            <tr>
                <th>Adresse</th>
                <td>{{ agence.adresse }}</td>
            </tr>

        </tbody>
    </table>

    <br>
    <br>

<h2>Clients</h2>
		<hr/>


		<table class="table">
			<thead>
				<tr>
					<th>Id</th>
					<th>Nom</th>
					<th>Prenom</th>
					<th>Adresse</th>
					<th>Type</th>
					<th>Photo</th>
					<th>DateNaissance</th>
					<th>Login</th>
					<th>Email</th>
					<th>Password</th>
					<th>actions</th>
				</tr>
			</thead>
			<tbody>
				{% for employe in agence.employes %}
					<tr>
						<td>{{ mploye.id }}</td>
						<td>{{ mploye.nom }}</td>
						<td>{{ mploye.prenom }}</td>
						<td>{{ client.adresse }}</td>
						<td>{{ client.type }}</td>
						<td>{{ client.photo }}</td>
						<td>{{ client.dateNaissance ? client.dateNaissance|date('Y-m-d H:i:s') : '' }}</td>

						<td>{{ client.email }}</td>

						<td>
							<a href="{{ path('client_affichage', {'id': client.id}) }}">affichage</a>
							<a href="{{ path('client_edition', {'id': client.id}) }}">editer</a>
						</td>
					</tr>
				{% else %}
					<tr>
						<td colspan="11">Pas de Client pour le moment</td>
					</tr>
				{% endfor %}
			</tbody>
		</table>





	
    {# Liste des Biens par Agnece#}
		<div class="list-group">
			<a href="#" class="list-group-item active">
				<h4 class="list-group-item-heading">Liste de Biens / agneces</h4>

			</a>
		</div>
		<table class="table table-hover">
			<thead>
				<tr>
					<th>
						<a href="#" title="cliquer pour trier par ordre croissant">
							Id</th>
					</th>
					<th>
						<a href="#" title="cliquer pour trier par ordre croissant">
							Titre</th>
					</th>
					<th>
						<a href="#" title="cliquer pour trier par ordre croissant">
							Categorie</th>
					</th>

					<th>
						<a href="#" title="cliquer pour trier par ordre croissant">
							Agence</th>
					</th>


					<th>Owner</th>
					<th>
						<a href="#" title="cliquer pour trier par ordre croissant">
							Gestionnaire</th>
					</th>

					<th>
						<a href="#" title="cliquer pour trier par surface en ordre croissant">Adresse</th>
					</th>
					<th>
						<a href="#" title="cliquer pour trier par surface en ordre croissant">Type</th>
					</th>
					<th>
						<a href="#" title="cliquer pour trier par surface en ordre croissant">Surface</th>
					</th>
					<th>
						<a href="#" title="cliquer pour trier par prix en ordre croissant">Prix</th>
					</th>
				</tr>
			</thead>
			<tbody>
				{% for article in agence.articles %}
					<tr>
						<td>{{ article.id }}</td>
						<td>{{ article.titre }}
							|
							{{ article.adresse }}</td>

						<td>{{ article.Categorie.titre }}</td>
						<td>{{ article.Agence.numeroAgence }}
							|
							{{ article.Agence.adresse }}
						</td>
						<td>{{ article.Client.nom }}</td>
						<td>{{ article.Employe.nom }}
							{{ article.Employe.prenom }}</td>

						<td>{{ article.adresse }}</td>
						<td>F{{ article.type }}</td>
						<td>{{ article.surface }}m2</td>
						<td>{{ article.prix }}â‚¬</td>
						<td>


							<a href="{{ path('article_affichage', {'id': article.id}) }}" class="btn btn-secondary">details</a>


							<a href="{{ path('article_modif', {'id': article.id}) }}" class="btn btn-secondary">editer</a>


						</td>
					</tr>
				{% else %}
					<tr>
						<td colspan="8">Aucun Artcile
						</td>
					</tr>
				{% endfor %}
			</tbody>
		</table>

    <a href="{{ path('agence_index') }}">Liste de</a>

    <a href="{{ path('agence_edition', {'id': agence.id}) }}">edit</a>

    {{ include('agence/_delete_form.html.twig') }}

</div>
{% endblock %}
