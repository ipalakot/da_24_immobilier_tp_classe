{% extends 'base_admin.html.twig' %}

{% block title %}Employe
{% endblock %}

{% block body %}

	<!-- breadcrumb-->
	<nav aria-label="breadcrumb">
			<ol class="breadcrumb">
				<li class="breadcrumb-item">
					<a href="{{path('admin_index')}}">Administrator </a>

				</li>
							</li>
				<li class="breadcrumb-item">
					<a href="{{path('employe_index')}}">Employé(e)s</a>

				</li>

				<li class="breadcrumb-item active" aria-current="page">{{ app.user.userIdentifier }}  </li>

				
			</ol>
				<hr style="width:100%; height:5px; background-color:#1B4F72 ">
		</nav>	
	<!-- End breadcrumb-->


	<div class="container">
		<h3>Employe :  {{ employe.id }} - {{ employe.username }} </h3><hr/>


		<div class="row">
			<div class="col-6">
				<table class="table">
					<tbody>
						<tr>
							<th>Id</th>
							<td>{{ employe.id }}</td>
						</tr>
						<tr>
							<th>Nom</th>
							<td>{{ employe.nom }}</td>
						</tr>
						<tr>
							<th>Prenom</th>
							<td>{{ employe.prenom }}</td>
						</tr>
						<tr>
							<th>Login</th>
							<td>{{ employe.username }}</td>
						</tr>
						<tr>
							<th>Couriel</th>
							<td>{{ employe.email }}</td>
						</tr>

						<tr>
							<th>Password</th>
							<td>{{ employe.password }}</td>
						</tr>

						<tr>
							<th>Date d'embauche</th>
							<td>{{ employe.createdAt ? employe.createdAt|date('Y-m-d H:i:s') : '' }}</td>
						</tr>

						<tr>
							<th>Responsable</th>
							<td>{{ employe.directeur.nom }}
								|
								{{ employe.agence.adresse }}</td>
						</tr>

						<tr>
							<th>Agence</th>
							<td>{{ employe.agence.numeroAgence }}
								|
								{{ employe.agence.adresse }}</td>
						</tr>


						<tr>
							<th>UpdatedAt</th>
							<td>{{ employe.updatedAt ? employe.updatedAt|date('Y-m-d H:i:s') : '' }}</td>
						</tr>
					</tbody>
				</table>
			</div>

			<div class="col-6">
				<tr>
					<th></th>
					<td>
						<img src="{{vich_uploader_asset(employe, 'imageFile') }}" alt="Immeuble" class="mx-auto p-2" style="width: 400px;">

					</td>
				</tr>
			</div>

			<br>
			{# Liste des Biens en Gestions#}
			<div class="list-group">
				<a href="#" class="list-group-item active">
					<h4 class="list-group-item-heading">Portefuille de Gestion</h4>

				</a>
			</div>
			<table class="table table-hover">
				<thead>
					<tr>
						<th>
							<a href="#" title="cliquer pour trier par ordre croissant">
								Id</th>
						</th>
						<th>
							<a href="#" title="cliquer pour trier par ordre croissant">
								Titre</th>
						</th>
						<th>
							<a href="#" title="cliquer pour trier par ordre croissant">
								Categorie</th>
						</th>

						<th>
							<a href="#" title="cliquer pour trier par ordre croissant">
								Agence</th>
						</th>


						<th>Owner</th>
						<th>
							<a href="#" title="cliquer pour trier par ordre croissant">
								Gestionnaire</th>
						</th>

						<th>
							<a href="#" title="cliquer pour trier par surface en ordre croissant">Adresse</th>
						</th>
						<th>
							<a href="#" title="cliquer pour trier par surface en ordre croissant">Type</th>
						</th>
						<th>
							<a href="#" title="cliquer pour trier par surface en ordre croissant">Surface</th>
						</th>
						<th>
							<a href="#" title="cliquer pour trier par prix en ordre croissant">Prix</th>
						</th>
					</tr>
				</thead>
				<tbody>
					{% for article in employe.articles %}
						<tr>
							<td>{{ article.id }}</td>
							<td>{{ article.titre }}
								|
								{{ article.adresse }}</td>

							<td>{{ article.Categorie.titre }}</td>
							<td>{{ article.Agence.numeroAgence }}
								|
								{{ article.Agence.adresse }}
							</td>
							<td>{{ article.Client.nom }}</td>
							<td>{{ article.Employe.nom }}
								{{ article.Employe.prenom }}</td>

							<td>{{ article.adresse }}</td>
							<td>F{{ article.type }}</td>
							<td>{{ article.surface }}m2</td>
							<td>{{ article.prix }}€</td>
							<td>


								<a href="{{ path('article_affichage', {'id': article.id}) }}" class="btn btn-secondary">details</a>


								<a href="{{ path('article_modif', {'id': article.id}) }}" class="btn btn-secondary">editer</a>


							</td>
						</tr>
					{% else %}
						<tr>
							<td colspan="8">Aucun Artcile
							</td>
						</tr>
					{% endfor %}
				</tbody>
			</table>


			<a href="{{ path('employe_index') }}" class="btn btn-secondary">Liste de</a>


			<a href="{{ path('employe_edition', {'id': employe.id}) }}" class="btn btn-secondary">éditer</a>
			{{ include('employe/_delete_form.html.twig') }}
		</p>
	</div>
</div>{% endblock %}
